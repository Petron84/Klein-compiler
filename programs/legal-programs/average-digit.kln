function main(n : integer): integer
    average_digit(n, 0, 0)

function average_digit(n : integer, sum : integer, i : integer): integer
    if n < 10
       then (i + 1)
       else average_digit(n/10, sum+MOD(n,10), i+1)

(* from the Klein library *)
function MOD(m : integer, n : integer): integer
    m - m/n * n

